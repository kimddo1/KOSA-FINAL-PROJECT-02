# 통계시각화 및 AI 분석 워크플로우 다이어그램

## 전체 시스템 아키텍처

```mermaid
graph TB
    subgraph "프론트엔드"
        A[차트 클릭 이벤트]
    end
    
    subgraph "백엔드"
        B[지원자 데이터 API]
        C[AI 분석 API]
    end
    
    subgraph "AI 에이전트"
        D[통계 분석 워크플로우] --> E[규칙 기반 분석]
        D --> F[LLM 기반 분석]
        F --> G[인사이트 생성]
        G --> H[권장사항 생성]
    end
    
    subgraph "데이터베이스"
        I[데이터베이스]
    end
    
    subgraph "캐시 시스템"
        J[Redis 캐시]
    end
    
    A --> C
    C --> D
    B --> I
    C --> J
    D --> J
```

## 핵심 워크플로우

### 1. AI 분석 프로세스

```mermaid
flowchart TD
    A[차트 클릭] --> B[AI 분석 요청]
    B --> C{LLM 사용 가능?}
    
    C -->|Yes| D[GPT-4o-mini 분석]
    C -->|No| E[규칙 기반 분석]
    
    D --> F[인사이트 생성]
    E --> F
    F --> G[권장사항 생성]
    G --> H[결과 반환]
```

### 2. 분석 타입별 처리

```mermaid
flowchart LR
    A[통계 데이터] --> B{차트 타입}
    
    B -->|지원 시기별| C[추세 분석]
    B -->|연령대별| D[연령 분석]
    B -->|성별| E[성별 분석]
    B -->|학력별| F[학력 분석]
    B -->|지역별| G[지역 분석]
    B -->|자격증| H[자격증 분석]
    
    C --> I[인사이트]
    D --> I
    E --> I
    F --> I
    G --> I
    H --> I
```

## 주요 특징

- **이중 분석**: LLM + 규칙 기반
- **6가지 차트**: 지원 시기별, 연령대별, 성별, 학력별, 지역별, 자격증별
- **캐싱**: Redis로 성능 최적화
- **폴백**: LLM 장애 시 규칙 기반으로 대체 